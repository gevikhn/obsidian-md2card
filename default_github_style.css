/* ==== GitHub-style card (auto light/dark) for md2card ==== */
.card {
  --radius: 14px;
  --shadow: 0 1px 0 rgba(22,27,34,.04), 0 8px 24px rgba(140,149,159,.2);
  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

  /* Light defaults (GitHub-like) */
  --bg: #ffffff;
  --fg: #1f2328;
  --muted: #656d76;
  --border: #d0d7de;
  --subtle: #f6f8fa;
  --link: #0969da;
  --link-visited: #7d4eac;
  --code-bg: #f6f8fa;
  --kbd-bg: #f6f8fa;
  --kbd-border: #afb8c1;
  --blockquote-bg: #f6f8fa;
  --blockquote-border: #d0d7de;
  --table-row: #f6f8fa;
  --mark-bg: #fff8c5;

  display: flex;
  flex-direction: column;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--bg);
  color: var(--fg);
  box-shadow: var(--shadow);
  overflow: hidden;
}

/* Dark theme override (opt-in via attribute) */
[data-theme="dark"] .card {
  --bg: #0d1117;
  --fg: #e6edf3;
  --muted: #8b949e;
  --border: #30363d;
  --subtle: #161b22;
  --link: #4493f8;
  --link-visited: #b083f0;
  --code-bg: #161b22;
  --kbd-bg: #0d1117;
  --kbd-border: #3d444d;
  --blockquote-bg: #0f141b;
  --blockquote-border: #30363d;
  --table-row: #161b22;
  --mark-bg: #3b2300;
}

/* Auto-detect OS theme */
@media (prefers-color-scheme: dark) {
  .card:not([data-theme="light"] .card) {
    --bg: #0d1117;
    --fg: #e6edf3;
    --muted: #8b949e;
    --border: #30363d;
    --subtle: #161b22;
    --link: #4493f8;
    --link-visited: #b083f0;
    --code-bg: #161b22;
    --kbd-bg: #0d1117;
    --kbd-border: #3d444d;
    --blockquote-bg: #0f141b;
    --blockquote-border: #30363d;
    --table-row: #161b22;
    --mark-bg: #3b2300;
  }
}

/* Header & footer: fine hairline like GitHub */
.card-header,
.card-footer {
  min-height: 12px;
  background: var(--subtle);
  border-bottom: 1px solid var(--border);
}
.card-footer {
  border-top: 1px solid var(--border);
  border-bottom: 0;
}

/* Content wrapper */
.card-content {
  padding: 16px;
  background: var(--bg);
}
.card-content-inner {
  font: 14px/1.6 var(--font-sans);
  color: var(--fg);
  word-wrap: break-word;
}

/* Headings (GitHub rhythm) */
.card-content-inner h1,
.card-content-inner h2,
.card-content-inner h3,
.card-content-inner h4,
.card-content-inner h5,
.card-content-inner h6 {
  margin: 24px 0 12px;
  font-weight: 600;
  line-height: 1.25;
}
.card-content-inner h1 { font-size: 1.75rem; border-bottom: 1px solid var(--border); padding-bottom: .3em; }
.card-content-inner h2 { font-size: 1.5rem; border-bottom: 1px solid var(--border); padding-bottom: .3em; }
.card-content-inner h3 { font-size: 1.25rem; }
.card-content-inner h4 { font-size: 1.1rem; }
.card-content-inner h5 { font-size: 1rem; }
.card-content-inner h6 { font-size: .9rem; color: var(--muted); }

/* Paragraphs & lists */
.card-content-inner p { margin: 0 0 12px; }
.card-content-inner ul,
.card-content-inner ol { padding-left: 2em; margin: 0 0 12px; }
.card-content-inner li { margin: .25em 0; }
.card-content-inner li > p { margin: .25em 0; }
.card-content-inner hr {
  height: 1px; border: 0; background: var(--border); margin: 24px 0;
}

/* Links */
.card-content-inner a {
  color: var(--link); text-decoration: none;
}
.card-content-inner a:hover { text-decoration: underline; }
.card-content-inner a:visited { color: var(--link-visited); }

/* Inline code & code blocks */
.card-content-inner code {
  font-family: var(--font-mono);
  font-size: .95em;
  background: var(--code-bg);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: .15em .35em;
}
.card-content-inner pre {
  background: var(--code-bg);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px;
  overflow: auto;
  font-family: var(--font-mono);
  font-size: .92em;
  line-height: 1.5;
  margin: 12px 0;
}
.card-content-inner pre code {
  background: transparent; border: 0; padding: 0; font-size: inherit;
}

/* Blockquote */
.card-content-inner blockquote {
  margin: 12px 0;
  padding: 10px 12px;
  background: var(--blockquote-bg);
  border-left: 4px solid var(--blockquote-border);
  border-radius: 6px;
  color: var(--fg);
}

/* Tables (GitHub-like) */
.card-content-inner table {
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  margin: 16px 0;
  font-size: 14px;
}
.card-content-inner th,
.card-content-inner td {
  border: 1px solid var(--border);
  padding: 8px 10px;
  vertical-align: top;
}
.card-content-inner thead th {
  background: var(--subtle);
  font-weight: 600;
}
.card-content-inner tbody tr:nth-child(2n) {
  background: var(--table-row);
}

/* Images & figures */
.card-content-inner img,
.card-content-inner svg,
.card-content-inner video {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 12px auto;
  border-radius: 6px;
}

/* Task list checkboxes */
.card-content-inner input[type="checkbox"] {
  transform: translateY(1px);
  margin-right: .5em;
}

/* Definition & details */
.card-content-inner details {
  background: var(--subtle);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 8px 10px;
  margin: 12px 0;
}
.card-content-inner summary {
  cursor: pointer;
  font-weight: 600;
}

/* Admonition-like callouts (blockquote + strong) */
.card-content-inner .callout {
  border-left-color: #2da44e;
  background: color-mix(in oklab, #2da44e 8%, var(--bg));
}

/* Badges & kbd */
.card-content-inner kbd {
  font-family: var(--font-mono);
  background: var(--kbd-bg);
  border: 1px solid var(--kbd-border);
  border-bottom-width: 2px;
  border-radius: 6px;
  padding: .15em .35em;
  font-size: .85em;
}

/* Mark highlight */
.card-content-inner mark {
  background: var(--mark-bg);
  color: inherit;
  border-radius: 2px;
  padding: .05em .2em;
}

/* Footnotes & small text */
.card-content-inner small,
.card-content-inner .footnotes {
  color: var(--muted);
  font-size: .9em;
}

/* Tighten first heading spacing at top of card */
.card-content-inner > :first-child { margin-top: 0 !important; }
